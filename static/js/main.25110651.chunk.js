(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{11:function(e,t,a){e.exports={nav:"Navbar_nav__163ID",item:"Navbar_item__3qlfo",active:"Navbar_active__2kEef"}},25:function(e,t,a){e.exports={header:"Header_header__379vO",loginBlock:"Header_loginBlock__1k0fv"}},28:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__3op7U"}},29:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__2dDvO",dialogsItems:"Dialogs_dialogsItems__byXMY"}},30:function(e,t,a){e.exports={users:"DialogsItem_users__PLIaR",active:"DialogsItem_active__2sHRR"}},31:function(e,t,a){e.exports={photo:"Users_photo__skfWZ",selectedPage:"Users_selectedPage__iAGHi",preloader:"Users_preloader__1ueHA"}},32:function(e,t,a){},44:function(e,t,a){e.exports={item:"Post_item__KqBvM"}},45:function(e,t,a){e.exports=a.p+"static/media/loading.dc2d7629.svg"},46:function(e,t,a){e.exports={profileInfo:"ProfileInfo_profileInfo__3z6nT"}},47:function(e,t,a){e.exports={messages:"Message_messages__3wLIV",message:"Message_message__3Nz85",button:"Message_button__1BloJ"}},48:function(e,t,a){e.exports=a.p+"static/media/user.263d9e69.jpg"},49:function(e,t,a){e.exports=a(77)},55:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);a(32);var n=a(19),r=a(16),s=a(1),o={dialogs:[{id:1,name:"\u0422\u0430\u0442\u044c\u044f\u043d\u0430",avatar:"https://avatarko.ru/img/avatar/28/devushka_brunetka_cosplay_27741.jpg"},{id:2,name:"\u041d\u0438\u043a\u043e\u043b\u0430\u0439",avatar:"https://avatarko.ru/img/avatar/31/muzhchina_shlyapa_galstuk_30949.jpg"},{id:3,name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430",avatar:"https://avatarko.ru/img/avatar/1/Batman_siluet.jpg"},{id:4,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439",avatar:"https://avatarko.ru/img/avatar/4/siluet_volk_luna_3945.jpg"},{id:5,name:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",avatar:"https://shopsticker.ru/image/cache/catalog/image/rock/1-800x800.png"},{id:6,name:"\u041c\u0430\u0440\u0438\u044f",avatar:"https://avatarko.ru/img/avatar/3/devushka_brunetka_2748.jpg"}],messages:[{id:1,message:"hi"},{id:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442"},{id:3,message:"helo"},{id:4,message:"bonjorno"},{id:5,message:"arigato"}],newMessageBody:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APDATE-NEW-MESSAGE-BODY":return Object(s.a)(Object(s.a)({},e),{},{newMessageBody:t.body});case"SEND-MESSAGE":var a=e.newMessageBody;return Object(s.a)(Object(s.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(r.a)(e.messages),[{id:6,message:a}])});default:return e}},l=[{id:1,firstName:"\u041c\u0438\u0445\u0430\u0438\u043b",lastName:"\u0413\u043e\u0440\u0431\u0430\u0447\u0435\u0432",img:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRtD8Rt4dOcNotQVv1NRj-6w"},{id:2,firstName:"\u041c\u0430\u0440\u0438\u044f",lastName:"\u0421\u0435\u043c\u0435\u043d\u043e\u0432\u0430",img:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxRWlSGblX1_1QRBvnp85UJSw"},{id:3,firstName:"\u0414\u043c\u0438\u0442\u0440\u0438\u0439",lastName:"\u0414\u044f\u0442\u043b\u043e\u0432",img:"https://i.mycdn.me/i?r=AyH4iRPQ2q0otWIFepML2LxR8uOdKS9gpiAPnGAGovPPmw"}],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return e},u={posts:[{id:1,message:"Hi, how are you?",likesCount:"9"},{id:2,message:"It's my first post",likesCount:"15"}],newPostText:"magmer.ru",profile:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,message:e.newPostText,likesCount:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[a]),newPostText:""});case"APDATE-NEW-POST-TEXT":return Object(s.a)(Object(s.a)({},e),{},{newPostText:t.newText});case"SET_USER_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});default:return e}},p={users:[],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(s.a)(Object(s.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:Object(r.a)(t.users)});case"SET_CURRENT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCING":return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});default:return e}},d={userId:null,email:null,login:null,isAuth:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(s.a)(Object(s.a)(Object(s.a)({},e),t.data),{},{isAuth:!0});default:return e}},E=Object(n.b)({profilePage:m,dialogsPage:i,friends:c,usersPage:g,auth:f}),h=Object(n.c)(E),v=a(0),_=a.n(v),b=a(21),O=a.n(b),P=(a(55),a(14)),w=a(15),j=a(18),y=a(17),N=a(6),S=a(25),T=a.n(S),k=function(e){return _.a.createElement("header",{className:T.a.header},_.a.createElement("img",{src:e.img,alt:"logo"}),_.a.createElement("div",{className:T.a.loginBlock},e.isAuth?e.login:_.a.createElement(N.b,{to:"/login"},"Login")))},C=a(12),A=a.n(C),I=a(9),U=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.a.get("https://social-network.samuraijs.com/api/1.0/auth/me",{withCredentials:!0}).then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,s=a.login;e.props.setAuthUserData(n,r,s)}}))}},{key:"render",value:function(){return _.a.createElement(k,this.props)}}]),a}(_.a.Component),M=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{setAuthUserData:function(e,t,a){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:a}}}})(U),x=a(11),R=a.n(x),D=function(e){return _.a.createElement("nav",{className:R.a.nav},_.a.createElement("ul",null,_.a.createElement("li",{className:R.a.item},_.a.createElement(N.b,{to:"/profile",activeClassName:R.a.active},"Profile")),_.a.createElement("li",{className:R.a.item},_.a.createElement(N.b,{to:"/dialogs",activeClassName:R.a.active},"Message")),_.a.createElement("li",{className:R.a.item},_.a.createElement(N.b,{to:"/users"},"Users")),_.a.createElement("li",{className:R.a.item},"Main content"),_.a.createElement("li",{className:R.a.item},"News"),_.a.createElement("li",{className:R.a.item},"Music"),_.a.createElement("li",{className:R.a.item},"Settings")))},F=a(28),L=a.n(F),B=a(44),W=a.n(B),G=function(e){return _.a.createElement("div",{className:W.a.item},_.a.createElement("img",{src:"https://www.paulseward.com/downloads/Avatars/cartoon_avatar.png",alt:"avatar"}),e.message,_.a.createElement("div",null,_.a.createElement("span",null,"Like ".concat(e.likesCount))))},z=function(e){var t=e.posts.map((function(e){return _.a.createElement(G,{message:e.message,likesCount:e.likesCount,key:e.id})})),a=_.a.createRef();return _.a.createElement("div",{className:L.a.myPosts},_.a.createElement("h3",null,"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),_.a.createElement("div",{style:{marginBottom:"20px"}},_.a.createElement("textarea",{onChange:function(){var t=a.current.value;e.apdateNewPostText(t)},value:e.newPostText,ref:a,placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430"}),_.a.createElement("button",{onClick:function(){e.addPost()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442")),_.a.createElement("div",{className:L.a.posts},t))},H=Object(I.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:"ADD-POST"})},apdateNewPostText:function(t){var a=function(e){return{type:"APDATE-NEW-POST-TEXT",newText:e}}(t);e(a)}}}))(z),q=a(45),Q=a.n(q),J=function(){return _.a.createElement("div",null,_.a.createElement("img",{src:Q.a,alt:"preloader"}))},X=a(46),Y=a.n(X),K=function(e){return console.log(e),e.profile?_.a.createElement("div",{className:Y.a.profileInfo},_.a.createElement("figure",null,_.a.createElement("img",{src:"https://wowslider.net/local-sliders/demo-10/data1/images/road220058.jpg",alt:"qweqwe"})),_.a.createElement("div",null,_.a.createElement("img",{src:e.profile.photos.large,alt:"wefrr"}),_.a.createElement("p",null,_.a.createElement("span",{style:{fontWeight:"600"}},"\u0421\u0442\u0430\u0442\u0443\u0441: "),e.profile.aboutMe),_.a.createElement("p",null,_.a.createElement("span",{style:{fontWeight:"600"}},"\u0424\u0418\u041e: "),e.profile.fullName),_.a.createElement("p",null,_.a.createElement("span",{style:{fontWeight:"600"}},"\u0420\u0430\u0431\u043e\u0442\u0430: "),e.profile.fullName),"avatar + description")):_.a.createElement(J,null)},V=function(e){return _.a.createElement("div",null,_.a.createElement(K,{profile:e.profile}),_.a.createElement(H,null))},Z=a(3),$=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;t||(t=2),C.get("https://social-network.samuraijs.com/api/1.0/profile/".concat(t)).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return _.a.createElement(V,Object.assign({},this.props,{profile:this.props.profile}))}}]),a}(v.Component),ee=Object(Z.e)($),te=Object(I.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}}})(ee),ae=a(29),ne=a.n(ae),re=a(30),se=a.n(re),oe=function(e){return _.a.createElement("div",{className:se.a.users},_.a.createElement(N.b,{to:"/dialogs/".concat(e.id),activeClassName:se.a.active},_.a.createElement("figure",null,_.a.createElement("img",{src:e.avatar,alt:"".concat(e.name," ").concat(e.id)})),e.name))},ie=a(47),le=a.n(ie),ce=function(e){return _.a.createElement("div",{className:le.a.message},e.message)},ue=function(e){var t=e.dialogsPage,a=t.dialogs.map((function(e){return _.a.createElement(oe,{name:e.name,id:e.id,avatar:e.avatar,key:e.id})})),n=t.messages.map((function(e){return _.a.createElement(ce,{message:e.message,key:e.id})})),r=t.newMessageBody;return _.a.createElement("div",{className:ne.a.dialogs},_.a.createElement("div",{className:ne.a.dialogsItem},a),_.a.createElement("div",{className:"messages"},_.a.createElement("div",null,n),_.a.createElement("div",null,_.a.createElement("div",null,_.a.createElement("textarea",{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",value:r,onChange:function(t){var a=t.target.value;e.updateNewMessageBody(a)}})),_.a.createElement("div",null,_.a.createElement("button",{onClick:function(){e.sandMessage()}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))))},me=Object(I.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sandMessage:function(){var t,a;e({type:"SEND-MESSAGE",id:t,sendMessage:a})},updateNewMessageBody:function(t){e(function(e){return{type:"APDATE-NEW-MESSAGE-BODY",body:e}}(t))}}}))(ue),pe=a(48),ge=a.n(pe),de=a(31),fe=a.n(de),Ee=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),a=[],n=1;n<=t;n++)a.push(n);return _.a.createElement("div",null,a.map((function(t){return _.a.createElement("span",{className:e.currentPage===t&&fe.a.selectedPage,onClick:function(){e.onPageChanged(t)}},t)})),e.users.map((function(t){return _.a.createElement("div",{key:t.id},_.a.createElement("span",null,_.a.createElement("div",null,_.a.createElement(N.b,{to:"/profile/".concat(t.id)},_.a.createElement("img",{src:null!=t.photos.small?t.photos.small:ge.a,className:fe.a.photo,alt:t.id}))),_.a.createElement("div",null,t.followed?_.a.createElement("button",{onClick:function(){e.unfollow(t.id)}},"unfollow"):_.a.createElement("button",{onClick:function(){e.follow(t.id)}},"Follow"))),_.a.createElement("span",null,_.a.createElement("span",null,_.a.createElement("div",null,t.name),_.a.createElement("div",null,t.status)),_.a.createElement("span",null,_.a.createElement("div",null,"user.location.country"),_.a.createElement("div",null,"user.location.city"))))})))},he=function(e){Object(j.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),C.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),C.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,this.props.isFetching?_.a.createElement(J,null):null,_.a.createElement(Ee,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),a}(_.a.Component),ve={follow:function(e){return{type:"FOLLOW",userId:e}},unfollow:function(e){return{type:"UNFOLLOW",userId:e}},setUsers:function(e){return{type:"SET_USERS",users:e}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},toggleIsFetching:function(e){return{type:"TOGGLE_IS_FETCING",isFetching:e}}},_e=Object(I.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),ve)(he),be=function(e){return _.a.createElement(N.a,null,_.a.createElement("div",{className:"app-wrapper"},_.a.createElement(M,{img:"https://bower.io/img/bower-logo.png"}),_.a.createElement(D,{friends:e.state}),_.a.createElement("div",{className:"app-wrapper-content"},_.a.createElement(Z.a,{path:"/profile/:userId?",render:function(){return _.a.createElement(te,{store:e.store})}}),_.a.createElement(Z.a,{path:"/dialogs",render:function(){return _.a.createElement(me,{store:e.store})}}),_.a.createElement(Z.a,{path:"/users",render:function(){return _.a.createElement(_e,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));O.a.render(_.a.createElement(_.a.StrictMode,null,_.a.createElement(I.a,{store:h},_.a.createElement(be,{store:h}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.25110651.chunk.js.map